<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AppearanceConsumerFactoryAdapter.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Nasdanika Bootstrap Model Generation Adapters</a> &gt; <a href="index.source.html" class="el_package">org.nasdanika.html.model.bootstrap.gen</a> &gt; <span class="el_source">AppearanceConsumerFactoryAdapter.java</span></div><h1>AppearanceConsumerFactoryAdapter.java</h1><pre class="source lang-java linenums">package org.nasdanika.html.model.bootstrap.gen;

import java.util.Map;
import java.util.Map.Entry;

import org.eclipse.emf.common.notify.impl.AdapterImpl;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.EStructuralFeature;
import org.nasdanika.common.BiSupplier;
import org.nasdanika.common.Consumer;
import org.nasdanika.common.ConsumerFactory;
import org.nasdanika.common.Context;
import org.nasdanika.common.FunctionFactory;
import org.nasdanika.common.ListCompoundSupplierFactory;
import org.nasdanika.common.MapCompoundSupplierFactory;
import org.nasdanika.emf.EObjectAdaptable;
import org.nasdanika.html.HTMLElement;
import org.nasdanika.html.bootstrap.BootstrapElement;
import org.nasdanika.html.bootstrap.BootstrapFactory;
import org.nasdanika.html.bootstrap.Breakpoint;
import org.nasdanika.html.bootstrap.Color;
import org.nasdanika.html.bootstrap.Placement;
import org.nasdanika.html.bootstrap.Size;
import org.nasdanika.html.bootstrap.Text.Alignment;
import org.nasdanika.html.bootstrap.Text.Transform;
import org.nasdanika.html.bootstrap.Text.Weight;
import org.nasdanika.html.model.bootstrap.Appearance;
import org.nasdanika.html.model.bootstrap.Border;
import org.nasdanika.html.model.bootstrap.Float;
import org.nasdanika.html.model.bootstrap.Spacing;
import org.nasdanika.html.model.bootstrap.Text;
import org.nasdanika.html.model.html.HtmlPackage;
import org.nasdanika.html.model.html.gen.HtmlElementAdapter;

public class AppearanceConsumerFactoryAdapter extends AdapterImpl implements ConsumerFactory&lt;HTMLElement&lt;?&gt;&gt; {
	
<span class="fc" id="L37">	public AppearanceConsumerFactoryAdapter(Appearance target) {</span>
<span class="fc" id="L38">		setTarget(target);</span>
<span class="fc" id="L39">	}</span>
	
	@Override
	public Appearance getTarget() {
<span class="fc" id="L43">		return (Appearance) super.getTarget();</span>
	}
	
<span class="fc" id="L46">	private java.util.function.Consumer&lt;HTMLElement&lt;?&gt;&gt; backgroundBuilder = htmlElement -&gt; {</span>
<span class="fc" id="L47">		Color background = AppearanceConsumerFactoryAdapter.this.getTarget().getBackground();</span>
<span class="fc bfc" id="L48" title="All 2 branches covered.">		if (background != null) {</span>
<span class="fc" id="L49">			BootstrapElement&lt;?, ?&gt; bootstrapElement = BootstrapFactory.INSTANCE.wrap(htmlElement);</span>
<span class="fc" id="L50">			bootstrapElement.background(background);</span>
		}							
<span class="fc" id="L52">	};</span>
	
<span class="fc" id="L54">	private java.util.function.Consumer&lt;HTMLElement&lt;?&gt;&gt; borderBuilder = htmlElement -&gt; {</span>
<span class="fc" id="L55">		BootstrapElement&lt;?, ?&gt; bootstrapElement = BootstrapFactory.INSTANCE.wrap(htmlElement);</span>
<span class="fc bfc" id="L56" title="All 2 branches covered.">		for (Border border: AppearanceConsumerFactoryAdapter.this.getTarget().getBorder()) {</span>
<span class="fc" id="L57">			Color color = border.getColor();</span>
<span class="pc bpc" id="L58" title="3 of 8 branches missed.">			if (border.isBottom() || border.isLeft() || border.isRight() || border.isTop()) {</span>
<span class="pc bpc" id="L59" title="1 of 2 branches missed.">				if (border.isBottom()) {</span>
<span class="fc" id="L60">					bootstrapElement.border(color, Placement.BOTTOM);</span>
				}
<span class="pc bpc" id="L62" title="1 of 2 branches missed.">				if (border.isTop()) {</span>
<span class="nc" id="L63">					bootstrapElement.border(color, Placement.TOP);</span>
				}
<span class="pc bpc" id="L65" title="1 of 2 branches missed.">				if (border.isLeft()) {</span>
<span class="nc" id="L66">					bootstrapElement.border(color, Placement.LEFT);</span>
				}
<span class="pc bpc" id="L68" title="1 of 2 branches missed.">				if (border.isRight()) {</span>
<span class="nc" id="L69">					bootstrapElement.border(color, Placement.RIGHT);</span>
				}
			} else {
<span class="fc" id="L72">				bootstrapElement.border(color);				</span>
			}				
<span class="fc" id="L74">		} </span>
<span class="fc" id="L75">		Color bgColor = AppearanceConsumerFactoryAdapter.this.getTarget().getBackground();</span>
<span class="fc bfc" id="L76" title="All 2 branches covered.">		if (bgColor != null) {</span>
<span class="fc" id="L77">			bootstrapElement.background(bgColor);</span>
		}							
<span class="fc" id="L79">	};</span>

<span class="fc" id="L81">	private java.util.function.Consumer&lt;HTMLElement&lt;?&gt;&gt; spacingBuilder = htmlElement -&gt; {</span>
<span class="fc" id="L82">		BootstrapElement&lt;?, ?&gt; bootstrapElement = BootstrapFactory.INSTANCE.wrap(htmlElement);</span>
<span class="fc bfc" id="L83" title="All 2 branches covered.">		for (Spacing margin : AppearanceConsumerFactoryAdapter.this.getTarget().getMargin()) {</span>
<span class="fc" id="L84">			Size size = margin.getSize();</span>
<span class="fc" id="L85">			Breakpoint breakpoint = margin.getBreakpoint();</span>
<span class="fc bfc" id="L86" title="All 2 branches covered.">			if (breakpoint == null) {</span>
<span class="fc" id="L87">				breakpoint = Breakpoint.DEFAULT;</span>
			}
			
<span class="pc bpc" id="L90" title="5 of 12 branches missed.">			if (margin.isBottom() || margin.isLeft() || margin.isRight() || margin.isTop() || margin.isX() || margin.isY()) {</span>
<span class="pc bpc" id="L91" title="1 of 2 branches missed.">				if (margin.isBottom()) {</span>
<span class="nc" id="L92">					bootstrapElement.margin().bottom(breakpoint, size);</span>
				}
<span class="pc bpc" id="L94" title="1 of 2 branches missed.">				if (margin.isTop()) {</span>
<span class="nc" id="L95">					bootstrapElement.margin().top(breakpoint, size);</span>
				}
<span class="pc bpc" id="L97" title="1 of 2 branches missed.">				if (margin.isLeft()) {</span>
<span class="nc" id="L98">					bootstrapElement.margin().left(breakpoint, size);</span>
				}
<span class="pc bpc" id="L100" title="1 of 2 branches missed.">				if (margin.isRight()) {</span>
<span class="nc" id="L101">					bootstrapElement.margin().right(breakpoint, size);</span>
				}
				
<span class="pc bpc" id="L104" title="1 of 2 branches missed.">				if (margin.isX()) {</span>
<span class="nc" id="L105">					bootstrapElement.margin().x(breakpoint, size);</span>
				}
<span class="pc bpc" id="L107" title="1 of 2 branches missed.">				if (margin.isY()) {</span>
<span class="fc" id="L108">					bootstrapElement.margin().y(breakpoint, size);</span>
				}						
			} else {
<span class="fc" id="L111">				bootstrapElement.margin().all(breakpoint, size);				</span>
			}					
<span class="fc" id="L113">		} </span>

<span class="fc bfc" id="L115" title="All 2 branches covered.">		for (Spacing padding : AppearanceConsumerFactoryAdapter.this.getTarget().getPadding()) {</span>
<span class="fc" id="L116">			Size size = padding.getSize();</span>
<span class="fc" id="L117">			Breakpoint breakpoint = padding.getBreakpoint();</span>
<span class="fc bfc" id="L118" title="All 2 branches covered.">			if (breakpoint == null) {</span>
<span class="fc" id="L119">				breakpoint = Breakpoint.DEFAULT;</span>
			}
			
<span class="pc bpc" id="L122" title="5 of 12 branches missed.">			if (padding.isBottom() || padding.isLeft() || padding.isRight() || padding.isTop() || padding.isX() || padding.isY()) {</span>
<span class="pc bpc" id="L123" title="1 of 2 branches missed.">				if (padding.isBottom()) {</span>
<span class="nc" id="L124">					bootstrapElement.padding().bottom(breakpoint, size);</span>
				}
<span class="pc bpc" id="L126" title="1 of 2 branches missed.">				if (padding.isTop()) {</span>
<span class="fc" id="L127">					bootstrapElement.padding().top(breakpoint, size);</span>
				}
<span class="pc bpc" id="L129" title="1 of 2 branches missed.">				if (padding.isLeft()) {</span>
<span class="nc" id="L130">					bootstrapElement.padding().left(breakpoint, size);</span>
				}
<span class="pc bpc" id="L132" title="1 of 2 branches missed.">				if (padding.isRight()) {</span>
<span class="nc" id="L133">					bootstrapElement.padding().right(breakpoint, size);</span>
				}
				
<span class="pc bpc" id="L136" title="1 of 2 branches missed.">				if (padding.isX()) {</span>
<span class="nc" id="L137">					bootstrapElement.padding().x(breakpoint, size);</span>
				}
<span class="pc bpc" id="L139" title="1 of 2 branches missed.">				if (padding.isY()) {</span>
<span class="nc" id="L140">					bootstrapElement.padding().y(breakpoint, size);</span>
				}						
			} else {
<span class="fc" id="L143">				bootstrapElement.padding().all(breakpoint, size);</span>
			}
<span class="fc" id="L145">		}</span>
		
<span class="fc" id="L147">	};</span>
	
<span class="fc" id="L149">	private java.util.function.Consumer&lt;HTMLElement&lt;?&gt;&gt; textBuilder = htmlElement -&gt; {</span>
<span class="fc" id="L150">		BootstrapElement&lt;?, ?&gt; bootstrapElement = BootstrapFactory.INSTANCE.wrap(htmlElement);</span>
<span class="fc" id="L151">		Text text = AppearanceConsumerFactoryAdapter.this.getTarget().getText();</span>
<span class="fc bfc" id="L152" title="All 2 branches covered.">		if (text != null) {</span>
<span class="fc" id="L153">			org.nasdanika.html.bootstrap.Text&lt;?&gt; bsText = bootstrapElement.text();</span>

<span class="fc" id="L155">			Color color = text.getColor();</span>
<span class="pc bpc" id="L156" title="1 of 2 branches missed.">			if (color != null) {						</span>
<span class="fc" id="L157">				bsText.color(color);</span>
			}
			
<span class="fc" id="L160">			Alignment alignment = text.getAlignment();</span>
<span class="pc bpc" id="L161" title="1 of 2 branches missed.">			if (alignment != null) {						</span>
<span class="nc" id="L162">				bsText.alignment(alignment);</span>
			}				

<span class="fc" id="L165">			Transform transform = text.getTransform();</span>
<span class="fc bfc" id="L166" title="All 2 branches covered.">			if (transform != null) {						</span>
<span class="fc" id="L167">				bsText.transform(transform);</span>
			}				

<span class="fc" id="L170">			Weight weight = text.getWeight();</span>
<span class="fc bfc" id="L171" title="All 2 branches covered.">			if (weight != null) {						</span>
<span class="fc" id="L172">				bsText.weight(weight);</span>
			}				
			
<span class="fc" id="L175">			bsText.monospace(text.isMonospace());</span>
<span class="fc" id="L176">			bsText.italic(text.isItalic());</span>
<span class="fc" id="L177">			bsText.nowrap(text.isNowrap());</span>
<span class="fc" id="L178">			bsText.truncate(text.isTruncate());</span>
			
		}
<span class="fc" id="L181">	};</span>
			
<span class="fc" id="L183">	private java.util.function.Consumer&lt;HTMLElement&lt;?&gt;&gt; floatBuilder = htmlElement -&gt; {</span>
<span class="fc" id="L184">		BootstrapElement&lt;?, ?&gt; bootstrapElement = BootstrapFactory.INSTANCE.wrap(htmlElement);</span>
<span class="fc bfc" id="L185" title="All 2 branches covered.">		for (Float _float: AppearanceConsumerFactoryAdapter.this.getTarget().getFloat()) {</span>
<span class="fc" id="L186">			org.nasdanika.html.bootstrap.Float&lt;?&gt; bsFloat = bootstrapElement._float();</span>
<span class="fc" id="L187">			Breakpoint breakpoint = _float.getBreakpoint();</span>
<span class="fc bfc" id="L188" title="All 2 branches covered.">			if (breakpoint == null) {</span>
<span class="fc" id="L189">				breakpoint = Breakpoint.DEFAULT;</span>
			}
<span class="pc bpc" id="L191" title="3 of 4 branches missed.">			switch (_float.getSide()) {</span>
			case &quot;left&quot;:
<span class="nc" id="L193">				bsFloat.left(breakpoint);</span>
<span class="nc" id="L194">				break;</span>
			case &quot;right&quot;:
<span class="fc" id="L196">				bsFloat.right(breakpoint);</span>
<span class="fc" id="L197">				break;</span>
			case &quot;none&quot;:
<span class="nc" id="L199">				bsFloat.none(breakpoint);</span>
<span class="nc" id="L200">				break;</span>
			default:
<span class="nc" id="L202">				throw new IllegalArgumentException(&quot;Invalid float side: &quot;+_float.getSide()+&quot;, shall be left, right, or none&quot;);</span>
			}
<span class="fc" id="L204">		}</span>
<span class="fc" id="L205">	};	</span>
	
	@Override
	public Consumer&lt;HTMLElement&lt;?&gt;&gt; create(Context context) {
<span class="fc" id="L209">		MapCompoundSupplierFactory&lt;String,Object&gt; attributesFactory = new MapCompoundSupplierFactory&lt;&gt;(&quot;Attributes&quot;);</span>
<span class="fc bfc" id="L210" title="All 2 branches covered.">		for (Entry&lt;String, EObject&gt; ae: getTarget().getAttributes()) {</span>
<span class="fc" id="L211">			EObject value = ae.getValue();</span>
<span class="fc" id="L212">			attributesFactory.put(ae.getKey(), EObjectAdaptable.adaptToSupplierFactoryNonNull(value, Object.class));			</span>
<span class="fc" id="L213">		}</span>
		
<span class="fc" id="L215">		ListCompoundSupplierFactory&lt;Object&gt; contentFactory = new ListCompoundSupplierFactory&lt;&gt;(&quot;Content&quot;); // Empty				</span>
		
<span class="fc" id="L217">		MapCompoundSupplierFactory&lt;EStructuralFeature,Object&gt; configurationFactory = new MapCompoundSupplierFactory&lt;&gt;(&quot;Attributes and Content&quot;);</span>
<span class="fc" id="L218">		configurationFactory.put(HtmlPackage.Literals.HTML_ELEMENT__ATTRIBUTES, attributesFactory);</span>
<span class="fc" id="L219">		configurationFactory.put(HtmlPackage.Literals.HTML_ELEMENT__CONTENT, contentFactory);</span>
		
<span class="fc" id="L221">		FunctionFactory&lt;HTMLElement&lt;?&gt;, BiSupplier&lt;HTMLElement&lt;?&gt;, Map&lt;EStructuralFeature, Object&gt;&gt;&gt; configurationFunctionFactory = configurationFactory.asFunctionFactory();</span>
<span class="fc" id="L222">		FunctionFactory&lt;BiSupplier&lt;HTMLElement&lt;?&gt;, Map&lt;EStructuralFeature, Object&gt;&gt;, HTMLElement&lt;?&gt;&gt; applyAttributesAndContentFunctionFactory = HtmlElementAdapter::createApplyAttributesAndContentFunction;		</span>
		
<span class="fc" id="L224">		return configurationFunctionFactory</span>
<span class="fc" id="L225">			.then(applyAttributesAndContentFunctionFactory)</span>
<span class="fc" id="L226">			.create(context)</span>
<span class="fc" id="L227">			.then(Consumer.fromConsumer(backgroundBuilder, &quot;Background&quot;, 1).asFunction())</span>
<span class="fc" id="L228">			.then(Consumer.fromConsumer(borderBuilder, &quot;Border&quot;, 1).asFunction())</span>
<span class="fc" id="L229">			.then(Consumer.fromConsumer(spacingBuilder, &quot;Spacing&quot;, 1).asFunction())</span>
<span class="fc" id="L230">			.then(Consumer.fromConsumer(textBuilder, &quot;Text&quot;, 1).asFunction())</span>
<span class="fc" id="L231">			.then(Consumer.fromConsumer(floatBuilder, &quot;Float&quot;, 1));						</span>
	}		
	
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>