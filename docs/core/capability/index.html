<!doctype html>
<html lang="EN">
  <head>
    <title>Capability</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/cerulean/bootstrap.min.css" id="nsd-bootstrap-theme-stylesheet">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nasdanika-Models/html-app@master/gen/web-resources/css/app.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jstree@3.3.11/dist/themes/default/style.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5.7.0/github-markdown.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/default.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-vue@2.23.0/dist/bootstrap-vue.css">
    <script src="https://cdn.jsdelivr.net/gh/Nasdanika-Models/html-app@master/gen/web-resources/js/common.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Nasdanika-Models/html-app@master/gen/web-resources/js/dark-head.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jstree@3.3.11/dist/jstree.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-vue@2.23.0/dist/bootstrap-vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Nasdanika-Models/html-app@master/gen/web-resources/js/components/table.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/groovy.min.js"></script><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9BRJVLK8CC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9BRJVLK8CC');
</script>    

<script src="../../search-documents.js"></script>

<script src="https://cdn.jsdelivr.net/gh/olivernn/lunr.js@v2.3.9/lunr.js"></script>

<script>
// Script for full-text search of JsTree

window.nsdJsTreeSearchCallback = function(str, node) { 
    var sf = new $.vakata.search(str, true, { caseSensitive : false, fuzzy : false }); 
    if (sf.search(node.text).isMatch) {
		return true;
	} 
    let searchResult = this.search(str); 
    for (const sr in searchResult) {
        if (searchResult[sr].ref === node.original['data-nsd-label-uuid']) {
            return true;
        } 
    } 
    return false; 
}.bind(lunr(function () {
			  this.ref('id');
			  this.field('title');
			  this.field('content');

			  for (const key in searchDocuments) {
				  let doc = searchDocuments[key];
				this.add({
					id: doc['link-uuid'],
					title: doc.title,
					path: doc.path,
					content: doc.content
				});  
			  }
			}));
</script>
</head>
  <body>
    <div class="container-fluid nsd-app-container">
      <div class="row">
        <div class="col nsd-app-header">
          <a href="../../index.html" data-nsd-label-uuid="e509001f-806c-4311-85d0-c1cd87b2e50f" class="nsd-app-header-title">
            <img src="https://docs.nasdanika.org/images/nasdanika-logo.png" class="nsd-app-label-icon">Nasdanika</a>
          <ul class="nav nsd-app-header-navs">
            <li class="nav-item">
              <a href="../../search.html" data-nsd-label-uuid="8e0befc4-632d-4811-acd4-14a4ab13b8f4" class="nav-link"><span class="fas fa-search nsd-app-label-icon"></span>Search</a>
            </li>
            <li class="nav-item">
              <a href="../../glossary.html" data-nsd-label-uuid="d709cb0a-1d09-4f21-a5fd-2911f47e07dd" class="nav-link">Glossary</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="row nsd-app-content-row">
        <div class="col nsd-app-navigation-panel">
          <div class="nsd-collapse-panel bg-light text-center"><span data-toggle="collapse" data-target="#nsd-nav-panel-e450ed1f-d67d-4459-8fad-4d6c6cfeba89-collapsible" aria-expanded="true" aria-controls="nsd-nav-panel-e450ed1f-d67d-4459-8fad-4d6c6cfeba89-collapsible" title="Toggle panel" id="nsd-nav-panel-e450ed1f-d67d-4459-8fad-4d6c6cfeba89-collapsible-trigger" class="nsd-collapsible-trigger"><i aria-hidden="true" class="fa"></i></span>
          </div>
          <div id="nsd-nav-panel-e450ed1f-d67d-4459-8fad-4d6c6cfeba89-collapsible" style="clear:right" class="nsd-collapsible collapse show">
            <input type="text" id="c48a979c-b2e7-458d-b69a-f2f1faa7662a-navigation-panel_searchInput" title="Full-text search. You can use wildcards, e.g. 'foo*' or 'f*o'; title or content fields, e.g. 'title:foo* bar'; boosts, e.g. 'foo^10 bar'; fuzzy matches, e.g. 'foo~1'; and term presence, e.g. '+foo bar -baz'" class="form-control mt-1">
            <div id="c48a979c-b2e7-458d-b69a-f2f1faa7662a-navigation-panel"></div>
            <script>$(document).ready( function() {
$('#c48a979c-b2e7-458d-b69a-f2f1faa7662a-navigation-panel').jstree(function(tree) { tree.state.filter = function(state) { delete state.core.selected; return state; };  tree.search.search_callback = function(searchStr, node) { if (typeof window.nsdJsTreeSearchCallback === 'function') return window.nsdJsTreeSearchCallback(searchStr, node); var sf = new $.vakata.search(searchStr, true, { caseSensitive : false, fuzzy : false }); return sf.search(node.text).isMatch; }; return tree; }({"core":{"data":[{"a_attr":{"onclick":"window.location='https://leanpub.com/u/pvlasov';"},"children":[{"a_attr":{"onclick":"window.location='https://leanpub.com/beyond-diagrams';"},"id":"nsd-app-nav-item-dee64ed3-2550-4671-a3e0-4274db1a05ff","text":"Beyond Diagrams","type":"leaf"},{"a_attr":{"onclick":"window.location='https://leanpub.com/java-analysis';"},"id":"nsd-app-nav-item-a9d12ff0-ef5d-4d58-8ea9-e36fabbd1201","text":"Java Analysis, Visualization, and Generation","type":"leaf"}],"id":"nsd-app-nav-item-c66c4e60-0872-4254-bd03-5a28fe94d169","text":"Books"},{"a_attr":{"onclick":"window.location='../../practices/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../practices/generic/index.html';"},"data-nsd-label-uuid":"31bcc196-04d1-4b15-95e0-925d49861287","id":"nsd-app-nav-item-759e333e-8549-4e17-b485-dc2757e249a7","text":"Analysis, Visualization & Generation","type":"leaf"},{"a_attr":{"onclick":"window.location='../../practices/java/index.html';"},"data-nsd-label-uuid":"94fc380b-7843-435c-afa2-c61fa86b1741","id":"nsd-app-nav-item-48a2a21d-05af-459b-b8ab-a14c2cfeea52","text":"Java Analysis, Visualization & Generation","type":"leaf"},{"a_attr":{"onclick":"window.location='../../practices/junit/index.html';"},"data-nsd-label-uuid":"93515cb5-da02-4e73-b5d7-62250c9ad94d","id":"nsd-app-nav-item-fc7bf145-2359-46d4-81f3-6286658cbfd5","text":"JUnit Tests Generation","type":"leaf"}],"data-nsd-label-uuid":"eba17cd3-a17e-4b2a-b32b-1548d56cff01","id":"nsd-app-nav-item-bd8a9097-fdf4-4368-82b6-f9451507e753","text":"Practices"},{"a_attr":{"onclick":"window.location='../../nsd-cli/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/app/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/app/site/index.html';"},"data-nsd-label-uuid":"217a9773-d7bf-4884-a30e-0e8535bd3dfd","id":"nsd-app-nav-item-7516cfa0-b2ed-4bf0-b484-7d3105d5f08f","text":"site","type":"leaf"}],"data-nsd-label-uuid":"8ace60fd-23a4-485a-af76-9f19e8425f10","id":"nsd-app-nav-item-2d6f8f43-2759-481a-9b9b-c709d2d9d344","text":"app"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/drawio/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/drawio/html-app/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/drawio/html-app/save/index.html';"},"data-nsd-label-uuid":"eeec6e75-c768-4c1f-ba70-ab96cfbc886e","icon":"https://img.icons8.com/dusk/20/save--v1.png","id":"nsd-app-nav-item-26bab287-4188-4d3e-8928-7cedfeed0291","text":"save","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/drawio/html-app/site/index.html';"},"data-nsd-label-uuid":"090f266c-df29-4fb5-a5f9-e8df11c3a8fe","icon":"https://img.icons8.com/material-two-tone/20/web.png","id":"nsd-app-nav-item-4e59d27d-07a2-4270-a5fb-25bd32fe6185","text":"site","type":"leaf"}],"data-nsd-label-uuid":"1a831d5f-8c39-4faa-a8d1-21bc9ca7200e","id":"nsd-app-nav-item-32efc303-8e87-4f10-996b-7decfa5eb23a","text":"html-app"}],"data-nsd-label-uuid":"8b1170c8-d0c8-4ec6-aa61-65cbab137fab","icon":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHJlY3QgeT0iMiIgeD0iMiIgd2lkdGg9IjI4IiByeD0iMS4xMiIgaGVpZ2h0PSIyOCIgZmlsbD0iI2YwODcwNSIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2RmNmMwYyIgZD0ibTE2Ljg2MSA5LjE2OCAzLjAyLTMuMTg3IDEwLjExOSAxMC4xMTN2MTIuNzg2YTEuMTE5IDEuMTE5IDAgMCAxIC0xLjEyIDEuMTJoLTE3LjU2NGwtNS4zODUtNS40MDd6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTI1LjI0IDE3Ljk2aC0zLjI5NGwtMy4wNzEtNS4zMmguMmExLjExOSAxLjExOSAwIDAgMCAxLjEyLTEuMTJ2LTQuNzZhMS4xMTkgMS4xMTkgMCAwIDAgLTEuMTItMS4xMmgtNi4xNTVhMS4xMTkgMS4xMTkgMCAwIDAgLTEuMTIgMS4xMnY0Ljc2YTEuMTE5IDEuMTE5IDAgMCAwIDEuMTIgMS4xMmguMjA1bC0zLjA3MSA1LjMyaC0zLjI5NGExLjExOSAxLjExOSAwIDAgMCAtMS4xMiAxLjEydjQuNzZhMS4xMTkgMS4xMTkgMCAwIDAgMS4xMiAxLjEyaDYuMTZhMS4xMTkgMS4xMTkgMCAwIDAgMS4xMi0xLjEydi00Ljc2YTEuMTE5IDEuMTE5IDAgMCAwIC0xLjEyLTEuMTJoLS45MjdsMy4wNzItNS4zMmgxLjg3bDMuMDcxIDUuMzJoLS45MjZhMS4xMTkgMS4xMTkgMCAwIDAgLTEuMTIgMS4xMnY0Ljc2YTEuMTE5IDEuMTE5IDAgMCAwIDEuMTIgMS4xMmg2LjE2YTEuMTE5IDEuMTE5IDAgMCAwIDEuMTItMS4xMnYtNC43NmExLjExOSAxLjExOSAwIDAgMCAtMS4xMi0xLjEyeiIvPjwvc3ZnPg==","id":"nsd-app-nav-item-9e4c20b2-c00c-463e-939a-212012340d5e","text":"drawio"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/gsh/index.html';"},"data-nsd-label-uuid":"ba83be68-3ccd-4ce0-97df-e3828aeb47dd","icon":"https://docs.nasdanika.org/images/command.svg","id":"nsd-app-nav-item-71e5ce80-74b2-43be-87b0-4b3ed2afa927","text":"gsh","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/invoke/index.html';"},"data-nsd-label-uuid":"699a83e8-68d1-4a66-8680-f92146440fe0","icon":"https://docs.nasdanika.org/images/optimization.svg","id":"nsd-app-nav-item-cd964bef-b283-4355-a750-1171a9384bdd","text":"invoke","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/junit/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/junit/jacoco/index.html';"},"data-nsd-label-uuid":"3813a50b-3d07-4bfa-8417-a92c7c1659ad","id":"nsd-app-nav-item-1046b6f8-77d8-40c6-a827-d0162631cee0","text":"jacoco","type":"leaf"}],"data-nsd-label-uuid":"2081a7f5-09d4-45b5-ac43-ac17c41694d3","icon":"https://docs.nasdanika.org/images/JUnit.svg","id":"nsd-app-nav-item-8ee46cf8-4ed6-4219-b49a-dd61288c11fc","text":"junit"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/retrospect/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/retrospect/gsh/index.html';"},"data-nsd-label-uuid":"2a935f00-544b-49e2-9747-5d2f9496f9f4","icon":"https://docs.nasdanika.org/images/command.svg","id":"nsd-app-nav-item-9b06cc38-cadb-4c10-a01b-e98a05b52306","text":"gsh","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/contribute/retrospect/invoke/index.html';"},"data-nsd-label-uuid":"d89994fb-3b5e-4e28-8e3a-4e06176b4d73","icon":"https://docs.nasdanika.org/images/optimization.svg","id":"nsd-app-nav-item-f082bca5-eb3f-499c-b9ad-e4c5d27cd074","text":"invoke","type":"leaf"}],"data-nsd-label-uuid":"572a725f-4e5a-4498-93b4-62992db8761c","icon":"https://docs.nasdanika.org/images/retrospective.svg","id":"nsd-app-nav-item-4c8cf6fb-e969-481b-bfca-af0010d25e1b","text":"retrospect"}],"data-nsd-label-uuid":"85fb33c9-254b-4edf-af0c-2ca3fa21d1e4","icon":"https://docs.nasdanika.org/images/jigsaw.svg","id":"nsd-app-nav-item-68ba74f9-70d9-4c70-8772-4849f75e4e32","text":"contribute"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/gsh/index.html';"},"data-nsd-label-uuid":"7efa02fb-6135-4beb-b213-0b81d57914f6","icon":"https://docs.nasdanika.org/images/command.svg","id":"nsd-app-nav-item-b9dd8f2e-37d3-46dc-9250-abb419f316f3","text":"gsh","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gitlab/invoke/index.html';"},"data-nsd-label-uuid":"38d96a5f-6723-4c9e-8a58-c6e04fa421a6","icon":"https://docs.nasdanika.org/images/optimization.svg","id":"nsd-app-nav-item-90a397ba-378e-4389-8831-e99b675705b2","text":"invoke","type":"leaf"}],"data-nsd-label-uuid":"a2a87981-ae84-4b68-8c52-371646a2165f","icon":"https://docs.nasdanika.org/images/GitLab.svg","id":"nsd-app-nav-item-c7ba69cf-380f-4c1e-bc30-d09156d6058b","text":"gitlab"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/gsh/index.html';"},"data-nsd-label-uuid":"6930bdd9-91e8-46c8-877d-c9e8203de001","icon":"https://docs.nasdanika.org/images/command.svg","id":"nsd-app-nav-item-565c4a6f-1501-4c50-999a-dc43615ba63d","text":"gsh","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/help/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/help/site/index.html';"},"data-nsd-label-uuid":"2f9f67bd-cb80-40dc-9863-d29959fe22b3","id":"nsd-app-nav-item-01da0108-c0ae-4c3c-a7cd-8ea9025f1466","text":"site","type":"leaf"}],"data-nsd-label-uuid":"f460352e-1d31-4ca2-ad0e-56c29428a8c9","id":"nsd-app-nav-item-83b4f27a-1045-4fea-9171-c5518c51fc32","text":"help"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/http-server/index.html';"},"data-nsd-label-uuid":"c3bc5c40-d57f-4065-8fa9-1867dfd874c7","id":"nsd-app-nav-item-077e15f9-4055-44d3-9dc2-931b7b897337","text":"http-server","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/invoke/index.html';"},"data-nsd-label-uuid":"340c8501-61e4-4cae-bfd1-fd4a9d10d499","icon":"https://docs.nasdanika.org/images/optimization.svg","id":"nsd-app-nav-item-9e9b62f1-3a2f-45b8-a5d4-7b09bf62eab4","text":"invoke","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/java/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/java/junit/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/java/junit/jacoco/index.html';"},"data-nsd-label-uuid":"ef3da8e0-4c12-4703-9b5c-0b874a2022b9","id":"nsd-app-nav-item-f2aae35f-ec29-499c-8e1b-2581fd7374ca","text":"jacoco","type":"leaf"}],"data-nsd-label-uuid":"9c7cb60b-fa27-471c-bafc-1f1b006a1672","icon":"https://docs.nasdanika.org/images/JUnit.svg","id":"nsd-app-nav-item-80ae2257-4f50-41d1-80a0-b0396e3b4d82","text":"junit"}],"data-nsd-label-uuid":"6aaf298d-8c20-4324-913e-a04b05260285","icon":"https://docs.nasdanika.org/images/java.svg","id":"nsd-app-nav-item-4d089eac-2d11-4ed3-8136-78e674d9b175","text":"java"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/launcher/index.html';"},"data-nsd-label-uuid":"a8eaa357-5a16-4ce0-a1d4-2ec69088f783","id":"nsd-app-nav-item-5400d220-d6e2-436b-b618-a9ec0dc77053","text":"launcher","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/ecore-html-app/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/ecore-html-app/save/index.html';"},"data-nsd-label-uuid":"43e10ad7-4ad7-42b4-a742-d6bf1d6c1433","icon":"https://img.icons8.com/dusk/20/save--v1.png","id":"nsd-app-nav-item-10027cb1-8283-47a0-832c-266081e1b2c6","text":"save","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/ecore-html-app/site/index.html';"},"data-nsd-label-uuid":"cd60c42f-7211-4300-b694-c248157f795d","icon":"https://img.icons8.com/material-two-tone/20/web.png","id":"nsd-app-nav-item-6deba1ff-9922-4926-8363-ba63d1b77644","text":"site","type":"leaf"}],"data-nsd-label-uuid":"855e1e23-9b7b-41a9-9f0e-09506d540a2d","id":"nsd-app-nav-item-c219f0c1-1012-4788-bd98-b5d98a3d803c","text":"ecore-html-app"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/html-app/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/html-app/save/index.html';"},"data-nsd-label-uuid":"aecd4efa-4fa1-4118-bea2-8264fc5093e8","icon":"https://img.icons8.com/dusk/20/save--v1.png","id":"nsd-app-nav-item-6f5a72e2-85d0-44d5-9a25-a8a169e72b80","text":"save","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/html-app/site/index.html';"},"data-nsd-label-uuid":"5bd766eb-6711-4178-b0d1-8b0704f9a360","icon":"https://img.icons8.com/material-two-tone/20/web.png","id":"nsd-app-nav-item-e5c400a7-d70b-417c-b7d0-17ba3cd6cfb4","text":"site","type":"leaf"}],"data-nsd-label-uuid":"8bb9d4b7-5ff1-4f2d-a87a-097a24bb16d6","icon":"https://img.icons8.com/external-flatart-icons-outline-flatarticons/20/external-html-programming-and-coding-flatart-icons-outline-flatarticons-5.png","id":"nsd-app-nav-item-f000d314-18ff-4f07-bb65-a890108a13f5","text":"html-app"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/model/save/index.html';"},"data-nsd-label-uuid":"1c444dee-1ba2-4baf-a27d-da1165441bcb","icon":"https://img.icons8.com/dusk/20/save--v1.png","id":"nsd-app-nav-item-d0f68fd6-3216-473e-a5a7-957e075e18b7","text":"save","type":"leaf"}],"data-nsd-label-uuid":"186e29ad-5b74-415e-832b-9716cbe8413a","id":"nsd-app-nav-item-fdd0d3bb-c77a-4872-9812-02829569bf3a","text":"model"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/rules/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/rules/action-model/index.html';"},"data-nsd-label-uuid":"4023b714-b637-4102-b913-942751ce6673","id":"nsd-app-nav-item-8597b358-446c-48ac-99da-726d0d58b690","text":"action-model","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/rules/list/index.html';"},"data-nsd-label-uuid":"d9fc9fd9-081a-4f69-a0b2-58bf2212e392","id":"nsd-app-nav-item-7b632584-0f34-4b8b-8d5c-cce259ac043d","text":"list","type":"leaf"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/rules/site/index.html';"},"data-nsd-label-uuid":"593d870e-fa3a-4e53-8b71-c089a299a62f","id":"nsd-app-nav-item-909d1d41-0dd1-4ef4-bd8c-d9c7e854e294","text":"site","type":"leaf"}],"data-nsd-label-uuid":"1b9261e4-d4bf-4963-823f-15fe92e20476","id":"nsd-app-nav-item-a883e125-c354-4f83-8062-d6bf57cc3a44","text":"rules"},{"a_attr":{"onclick":"window.location='../../nsd-cli/nsd/shell/index.html';"},"data-nsd-label-uuid":"4a069308-3ba8-48ee-9223-b74e72b835b3","icon":"https://img.icons8.com/nolan/20/console.png","id":"nsd-app-nav-item-dba7734c-81a9-4fb5-8a10-d22c22e1bc8b","text":"shell","type":"leaf"}],"data-nsd-label-uuid":"c56f3d25-65af-4e21-b80e-5fe2fb7aa4e9","id":"nsd-app-nav-item-8f5fd547-6225-4bc7-b67d-78ec36a08e71","text":"nsd"}],"data-nsd-label-uuid":"0bcbd4ba-747d-4a0e-b344-3003683a15c2","icon":"/images/command-line.svg","id":"nsd-app-nav-item-32785a3e-6a35-4be1-a8c7-427de48181bd","text":"CLI"},{"a_attr":{"onclick":"window.location='https://github.com/Nasdanika-Models';"},"children":[{"a_attr":{"onclick":"window.location='https://html-app.models.nasdanika.org/index.html';"},"id":"nsd-app-nav-item-cde951d7-505a-4f30-88a5-beb5e4769cf5","text":"App","type":"leaf"},{"a_attr":{"onclick":"window.location='https://architecture.models.nasdanika.org';"},"id":"nsd-app-nav-item-ab8812d0-a020-417e-84e5-d81f5c8ea596","text":"Architecture","type":"leaf"},{"a_attr":{"onclick":"window.location='https://azure.models.nasdanika.org';"},"id":"nsd-app-nav-item-ee400e8d-fd18-48ec-ba98-e16fbb5f2ecf","text":"Azure","type":"leaf"},{"a_attr":{"onclick":"window.location='https://bank.models.nasdanika.org';"},"id":"nsd-app-nav-item-77c66d9e-db4e-478d-95e0-af6cbc475e4a","text":"Bank","type":"leaf"},{"a_attr":{"onclick":"window.location='https://bootstrap.models.nasdanika.org';"},"id":"nsd-app-nav-item-2970f052-7009-4b07-8208-f42da622558a","text":"Bootstrap","type":"leaf"},{"a_attr":{"onclick":"window.location='https://capability.models.nasdanika.org';"},"id":"nsd-app-nav-item-0aa1f200-0710-4f19-875f-b2d5e5efef63","text":"Capability","type":"leaf"},{"a_attr":{"onclick":"window.location='https://coverage.models.nasdanika.org';"},"id":"nsd-app-nav-item-0e7e3e5f-dc6f-47dc-8a5c-47a863d36d24","text":"Coverage","type":"leaf"},{"a_attr":{"onclick":"window.location='https://mcda.models.nasdanika.org';"},"id":"nsd-app-nav-item-4cb77401-dd6e-4edc-836d-509782d72799","text":"Decision Analysis","type":"leaf"},{"a_attr":{"onclick":"window.location='https://echarts.models.nasdanika.org';"},"id":"nsd-app-nav-item-3a566605-30cd-44ff-96c0-a271b6c6e9c4","text":"ECharts","type":"leaf"},{"a_attr":{"onclick":"window.location='https://ecore.models.nasdanika.org';"},"id":"nsd-app-nav-item-3155e5ce-2e62-4c2c-b077-f65bd4917376","text":"Ecore","type":"leaf"},{"a_attr":{"onclick":"window.location='https://enterprise.models.nasdanika.org';"},"id":"nsd-app-nav-item-11cf0af2-e14c-49e9-91a4-863fba84b714","text":"Enterprise","type":"leaf"},{"a_attr":{"onclick":"window.location='https://excel.models.nasdanika.org';"},"id":"nsd-app-nav-item-0538d28e-f253-4fb8-bc31-33e2548040f5","text":"Excel","type":"leaf"},{"a_attr":{"onclick":"window.location='https://family.models.nasdanika.org';"},"id":"nsd-app-nav-item-bf150a8a-0b94-48e6-9bf2-438a149c75c1","text":"Family","type":"leaf"},{"a_attr":{"onclick":"window.location='https://flow.models.nasdanika.org';"},"id":"nsd-app-nav-item-4e9e76d2-86ad-425a-89c5-240f93c5cf00","text":"Flow","type":"leaf"},{"a_attr":{"onclick":"window.location='https://function-flow.models.nasdanika.org';"},"id":"nsd-app-nav-item-83b29f9d-5eef-4780-ade8-517d73cb9117","text":"Function Flow","type":"leaf"},{"a_attr":{"onclick":"window.location='https://git.models.nasdanika.org';"},"id":"nsd-app-nav-item-68d2e33a-f0ed-450a-bc13-4d15798660da","text":"Git","type":"leaf"},{"a_attr":{"onclick":"window.location='https://gitlab.models.nasdanika.org';"},"id":"nsd-app-nav-item-674e6978-ec88-4aae-9c01-5eba3ef04d11","text":"GitLab","type":"leaf"},{"a_attr":{"onclick":"window.location='https://html-app.models.nasdanika.org';"},"id":"nsd-app-nav-item-2e71412e-35cc-4a0a-b704-5f31ccfc917f","text":"HTML","type":"leaf"},{"a_attr":{"onclick":"window.location='https://java.models.nasdanika.org';"},"id":"nsd-app-nav-item-1fc85a66-3d84-49ce-85be-d54966ccbffa","text":"Java","type":"leaf"},{"a_attr":{"onclick":"window.location='https://jira.models.nasdanika.org';"},"id":"nsd-app-nav-item-bc30648b-a8af-4067-a5bb-af8dc7212578","text":"Jira","type":"leaf"},{"a_attr":{"onclick":"window.location='https://maven.models.nasdanika.org';"},"id":"nsd-app-nav-item-043f97ef-8abf-421c-8aa0-16e1709039e3","text":"Maven","type":"leaf"},{"a_attr":{"onclick":"window.location='https://nature.models.nasdanika.org';"},"id":"nsd-app-nav-item-8df0bffe-f68f-4ee4-a282-7a836e33b5c1","text":"Nature","type":"leaf"},{"a_attr":{"onclick":"window.location='https://pdf.models.nasdanika.org';"},"id":"nsd-app-nav-item-fc454025-cca6-4f29-86bc-6865408a38c6","text":"PDF","type":"leaf"},{"a_attr":{"onclick":"window.location='https://party.models.nasdanika.org';"},"id":"nsd-app-nav-item-e33c9cd0-be98-45df-a761-b06ae5c0cb0d","text":"Party","type":"leaf"},{"a_attr":{"onclick":"window.location='https://rules.models.nasdanika.org';"},"id":"nsd-app-nav-item-7842374d-057b-4e70-9b7d-9b6acc3e0767","text":"Rules","type":"leaf"},{"a_attr":{"onclick":"window.location='https://source-engineering.models.nasdanika.org';"},"id":"nsd-app-nav-item-880168f0-20d0-4f56-8735-691c4c577951","text":"Source Engineering","type":"leaf"}],"id":"nsd-app-nav-item-6e28dcdf-1f86-443f-9912-ff9acdf7647d","text":"Models"},{"a_attr":{"onclick":"window.location='../../html/index.html';"},"children":[{"a_attr":{"onclick":"window.location='../../html/bootstrap/index.html';"},"data-nsd-label-uuid":"5441a51e-9753-4e04-a54f-1b98e2742e8d","id":"nsd-app-nav-item-56c1cd2e-6187-4356-967a-f0926d826fba","text":"Bootstrap","type":"leaf"},{"a_attr":{"onclick":"window.location='../../html/html/index.html';"},"data-nsd-label-uuid":"20d4f379-221a-404e-aa8f-45b96b1c5068","id":"nsd-app-nav-item-d87409b6-9c4d-43bf-a74a-c68e7c568aa4","text":"HTML","type":"leaf"},{"a_attr":{"onclick":"window.location='../../html/jstree/index.html';"},"data-nsd-label-uuid":"1b800cac-4501-4e33-a145-f8ccd28ac383","id":"nsd-app-nav-item-9d206ff4-fd32-44e0-99e6-4908cedc8592","text":"JsTree","type":"leaf"}],"data-nsd-label-uuid":"35e73240-c0b9-4809-bda6-6b3213be4d6a","icon":"/images/html.svg","id":"nsd-app-nav-item-fc489ccc-25dd-4302-af98-1d9d94b7af35","text":"HTML"},{"a_attr":{"onclick":"window.location='../index.html';"},"children":[{"a_attr":{"onclick":"window.location='../cli/index.html';"},"data-nsd-label-uuid":"15338add-8eb9-4dc2-9d7d-345f8a6e664a","icon":"/images/command-line.svg","id":"nsd-app-nav-item-067e2a39-9394-460b-bdfd-7dca45f7b945","text":"CLI","type":"leaf"},{"data-nsd-label-uuid":"8cad3ec5-6b93-41b8-bc51-c43280436304","state":{"selected":true},"id":"nsd_cx","text":"Capability","type":"leaf"},{"a_attr":{"onclick":"window.location='../common/index.html';"},"data-nsd-label-uuid":"017df9cf-11ac-46a3-8f64-81bc0946dafc","id":"nsd-app-nav-item-4c34ce2b-7492-4808-9282-5392dea3510c","text":"Common","type":"leaf"},{"a_attr":{"onclick":"window.location='../diagram/index.html';"},"data-nsd-label-uuid":"6e2dcd24-8ce5-44ff-b46f-163f64e51455","id":"nsd-app-nav-item-d95ee639-9594-464f-aed0-8687a30e9e31","text":"Diagram","type":"leaf"},{"a_attr":{"onclick":"window.location='../drawio/index.html';"},"data-nsd-label-uuid":"2ad55025-99af-4c64-97cb-7c8bb130dc08","id":"nsd-app-nav-item-719fa4b2-94ee-46c2-ac6e-5f632ef3c32d","text":"Drawio","type":"leaf"},{"a_attr":{"onclick":"window.location='../emf/index.html';"},"data-nsd-label-uuid":"e1d3a45d-37b9-4909-b0dd-bd30df21d565","id":"nsd-app-nav-item-af0d2cd9-16f2-48a3-89c8-e69ffbe7ae8c","text":"EMF","type":"leaf"},{"a_attr":{"onclick":"window.location='../exec/index.html';"},"data-nsd-label-uuid":"7817618c-8145-4c0a-a253-ac9f870489ae","id":"nsd-app-nav-item-f9108482-0b1a-4ef4-9dcb-9ddd4bef1662","text":"Exec","type":"leaf"},{"a_attr":{"onclick":"window.location='../graph/index.html';"},"data-nsd-label-uuid":"b6a6095a-0c86-4184-937f-aae762a00b74","icon":"/images/data-flow.svg","id":"nsd-app-nav-item-cbfc27cd-4676-49fe-aedc-4d527e9d650a","text":"Graph","type":"leaf"},{"a_attr":{"onclick":"window.location='../http/index.html';"},"data-nsd-label-uuid":"c9cbfeea-23ce-417d-a248-f2d87e35750f","icon":"/images/http.svg","id":"nsd-app-nav-item-86f4596f-6eb7-49b6-9209-dc1202e00e9b","text":"HTTP","type":"leaf"},{"a_attr":{"onclick":"window.location='../mapping/index.html';"},"data-nsd-label-uuid":"61c460a1-eb84-43c2-a0a7-74f3f872d998","icon":"/images/mapping.svg","id":"nsd-app-nav-item-6cd100f5-7b98-4741-b366-1bebce2e06d3","text":"Mapping","type":"leaf"},{"a_attr":{"onclick":"window.location='../maven/index.html';"},"data-nsd-label-uuid":"2faaa4b1-a824-4dd9-b5c4-f59c0a469d9e","id":"nsd-app-nav-item-55c0af20-5293-4d73-bffe-2dd1990f1b22","text":"Maven","type":"leaf"},{"a_attr":{"onclick":"window.location='https://ncore.models.nasdanika.org/';"},"id":"nsd-app-nav-item-4d05dceb-301c-4f4d-8e1d-38cd863982ed","text":"Ncore","type":"leaf"},{"a_attr":{"onclick":"window.location='../persistence/index.html';"},"data-nsd-label-uuid":"755403d1-926e-44f5-9763-2fe0f9e3521f","id":"nsd-app-nav-item-98fb78ec-ec93-42f3-a84a-80037b613739","text":"Persistence","type":"leaf"},{"a_attr":{"onclick":"window.location='../resources/index.html';"},"data-nsd-label-uuid":"5dcc1fdb-8453-4330-b532-8cf9ac7d9d33","id":"nsd-app-nav-item-33a901f2-1ae6-4352-bfbf-45350ebabe6e","text":"Resources","type":"leaf"}],"data-nsd-label-uuid":"82fd971d-edd9-4f98-ad48-531980c9a9b9","icon":"/images/earth.svg","id":"nsd-app-nav-item-5af03108-b58f-4df2-9e01-998412b46fff","text":"Core"}]},"search":{"show_only_matches":true,"show_only_matches_children":true},"types":{"leaf":{"icon":"jstree-file"}},"plugins":["state","type","search"],"state":{"key":"c48a979c-b2e7-458d-b69a-f2f1faa7662a-navigation-panel"}}));
// Tokens: searchInputSelector, timer, treeSelector
$('#c48a979c-b2e7-458d-b69a-f2f1faa7662a-navigation-panel_searchInput').keyup(function () {
    if (window['nsd_jstTreeSearchTimer_nsd_db']) { 
		clearTimeout(window['nsd_jstTreeSearchTimer_nsd_db']); 
	}
    window['nsd_jstTreeSearchTimer_nsd_db'] = setTimeout(function () {
      var v = $('#c48a979c-b2e7-458d-b69a-f2f1faa7662a-navigation-panel_searchInput').val();
      $('#c48a979c-b2e7-458d-b69a-f2f1faa7662a-navigation-panel').jstree(true).search(v);
    }, 250);
  });

});</script>
          </div>
        </div>
        <div data-nsd-label-uuid="8cad3ec5-6b93-41b8-bc51-c43280436304" data-nsd-action-uris="uuid:8cad3ec5-6b93-41b8-bc51-c43280436304" class="col nsd-app-content-panel">
          <div class="container-fluid">
            <div class="row nsd-app-content-panel-breadcrumb-row">
              <div class="col">
                <nav aria-label="breadcrumb" class="nsd-app-content-panel-breadcrumb">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                      <a href="../index.html" data-nsd-label-uuid="82fd971d-edd9-4f98-ad48-531980c9a9b9">
                        <img src="/images/earth.svg" class="nsd-app-label-icon">Core</a>
                    </li>
                    <li class="breadcrumb-item active"><span data-nsd-label-uuid="8cad3ec5-6b93-41b8-bc51-c43280436304">Capability</span>
                    </li>
                  </ol>
                </nav>
              </div>
            </div>
            <div class="row nsd-app-content-panel-title-and-items-row">
              <div class="col-auto">
                <h1><span data-nsd-label-uuid="8cad3ec5-6b93-41b8-bc51-c43280436304" class="nsd-app-content-panel-title">Capability</span>
                </h1>
              </div>
            </div>
            <div class="row nsd-app-content-panel-content-row">
              <div class="col">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col"><div class="markdown-body"><p>Nasdanika Capability framework<sup id="fnref-1"><a class="footnote-ref" href="#fn-1">1</a></sup> allows to discover/load capabilities which meet a requirement. Capabilities are provided by <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/CapabilityFactory.html">CapabilityFactory</a> <code>create()</code> method. Capability factories may request other capabilities they need. As such, capabilities can be chained. Factories create <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/CapabilityLoader.html">CapabilityLoader</a>s which provide <a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html">Flux</a> reactive streams of capabilities. It allows to have an infinite stream of capabilities which are consumed (and produced) as needed. Capability providers may furnish additional information about capabilities. This information can be used for filtering or sorting providers. Capability providers may also provide functionality such as:</p>
<ul>
<li>Implement <code>Autocloseable</code> and release resources associated with capabilities upon closing.</li>
<li>Implement <code>Lock</code> or <code>ReadWriteLock</code> to guard access to provided capabilities.</li>
<li>Extending on the above, a capability provider may implement Domain/Realm with a command stack - obtain, execute commands with locking, close.</li>
</ul>
<p>A non-technical example of requirement/capability chain graph is a food chain/graph. Food is a requirement. Or “I want to eat” is a requirement. Bread and, say fried eggs are two capabilities meeting/addressing the requirement. Bread requires “wheat”, “water”, and “bake” capabilities. Fried eggs require “egg”, “oil”, and “fry” capabilities. “bake” capability is provided by an oven which may have a command stack or a lock because only one thing can be baked at a time. Bread capability provider may implement <code>Vegan</code> marker interface which can be used for filtering. All food capabilities may implement <code>NutritionalInformation</code> interface - it can be used for filtering or sorting.</p>
<p>A more technical example is Java <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html">ServiceLoader</a> with service type being a requirement and an instance of the service class being a capability.</p>
<p>Nasdanika capability framework can operate on top of <code>ServiceLoader</code> and may be thought of as a generalization of service loading. In essence, the capability framework is a <a href="https://en.wikipedia.org/wiki/Backward_chaining">backward chaining</a> engine as shown in one of the examples below.</p>
<ul>
<li><a href="https://github.com/Nasdanika/core/tree/master/capability">Sources</a></li>
<li><a href="https://javadoc.io/doc/org.nasdanika.core/capability/">Javadoc</a></li>
</ul>
<hr>
<ul>
<li><a href="#client-code-requesting-a-capability">Client code - requesting a capability</a>
<ul>
<li><a href="#service-capabilities">Service capabilities</a></li>
</ul>
</li>
<li><a href="#providing-a-capability">Providing a capability</a></li>
<li><a href="#loading-invocables-from-uris">Loading Invocables from URIs</a>
<ul>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#string-value">String value</a>
<ul>
<li><a href="#url-encoded">URL encoded</a></li>
<li><a href="#url-and-base64-encoded">URL and Base64 encoded</a></li>
</ul>
</li>
<li><a href="#java">Java</a>
<ul>
<li><a href="#constructor">Constructor</a></li>
<li><a href="#static-method">Static method</a></li>
<li><a href="#parameter-annotation">@Parameter annotation</a></li>
</ul>
</li>
<li><a href="#script">Script</a></li>
<li><a href="#spec">Spec</a>
<ul>
<li><a href="#json">JSON</a></li>
<li><a href="#yaml">YAML</a></li>
</ul>
</li>
<li><a href="#drawio-diagram">Drawio diagram</a></li>
</ul>
</li>
<li><a href="#specification">Specification</a>
<ul>
<li><a href="#uri">URI</a>
<ul>
<li><a href="#data">Data</a>
<ul>
<li><a href="#value">value/<class name></class></a></li>
<li><a href="#java">java/<class name or method reference></class></a></li>
<li><a href="#spel">spel/<url-encoded spel expression></url-encoded></a></li>
<li><a href="#applicationinvocable">application/<format>/invocable</format></a></li>
</ul>
</li>
<li><a href="#hierarchical">Hierarchical</a></li>
</ul>
</li>
<li><a href="#yamljson-specification">YAML/JSON specification</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#emf">EMF</a>
<ul>
<li><a href="#requesting-a-resourceset">Requesting a ResourceSet</a>
<ul>
<li><a href="#with-all-packages-and-factories">With all packages and factories</a></li>
<li><a href="#selecting-contributors">Selecting contributors</a></li>
<li><a href="#providing-resourceset-instance">Providing ResourceSet instance</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a>
<ul>
<li><a href="#epackages">EPackages</a></li>
<li><a href="#resource-factories">Resource factories</a></li>
<li><a href="#uri-handlers">URI handlers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#applications">Applications</a>
<ul>
<li><a href="#services">Services</a></li>
<li><a href="#solutions-for-architectures">Solutions for architectures</a></li>
<li><a href="#backward-chaining">Backward chaining</a></li>
<li><a href="#stream-processing">Stream processing</a></li>
<li><a href="#ai-model-trainingfine-tuning">AI model training/fine-tuning</a></li>
</ul>
</li>
</ul>
<h2><a href="#client-code-requesting-a-capability" id="client-code-requesting-a-capability">Client code - requesting a capability</a></h2>
<p>Capabilities are loaded by <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/CapabilityLoader.html">CapabilityLoader</a>. Capability loader can take an iterable of capability factories in its constructor, or it can load them using <code>ServiceLoader</code> as shown in the below code snippet:</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
capabilityLoader.getFactories().add(new TestServiceFactory&lt;Object&gt;());
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
		
for (CapabilityProvider&lt;?&gt; cp: capabilityLoader.load(new TestCapabilityFactory.Requirement("Hello World"), progressMonitor)) {
	System.out.println(cp);
	Flux&lt;?&gt; publisher = cp.getPublisher();
			
	publisher.subscribe(System.out::println);
}
</code></pre>
<p>Factories can also be added post-construction with <code>getFactories().add(factory)</code>.</p>
<h3><a href="#service-capabilities" id="service-capabilities">Service capabilities</a></h3>
<p>Service requirements and capabilities provide functionality similar to ServiceLoader - requesting instances of specific type, but extend it with ability to provide additional service requirement. This functionality is provided by <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/ServiceCapabilityFactory.html">ServiceCapabilityFactory</a> and <code>ServiceCapabilityFactory.Requirement</code>.</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
capabilityLoader.getFactories().add(new TestServiceFactory&lt;Object&gt;());
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
		
@SuppressWarnings({ "unchecked", "rawtypes" })
ServiceCapabilityFactory.Requirement&lt;List&lt;Double&gt;, Double&gt; requirement = (ServiceCapabilityFactory.Requirement) ServiceCapabilityFactory.createRequirement(List.class, null,  33.0);
for (CapabilityProvider&lt;?&gt; cp: capabilityLoader.load(requirement, progressMonitor)) {
	System.out.println(cp);
	Flux&lt;?&gt; publisher = cp.getPublisher();
			
	publisher.subscribe(System.out::println);
}
</code></pre>
<p>It is also possible to load services from <code>ServiceLoader</code> using subclasses of <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/ServiceFactory.html">Service</a>. You’d need to subclass <code>ServiceFactory</code> in a module which uses a particular service and override <code>stream(Class&lt;S&gt; service)</code> method as shown below:</p>
<pre><code class="language-java">@Override
protected Stream&lt;Provider&lt;S&gt;&gt; stream(Class&lt;S&gt; service) {
	return ServiceLoader.load(service).stream();
}
</code></pre>
<p>Then you’d need to add the factory to the loader:</p>
<pre><code class="language-java">capabilityLoader.getFactories().add(new TestServiceFactory&lt;Object&gt;());
</code></pre>
<h2><a href="#providing-a-capability" id="providing-a-capability">Providing a capability</a></h2>
<p>As it was mentioned above, capability factories can be explicitly added to <code>CapabilityLoader</code> or loaded using <code>ServiceLoader</code>.</p>
<p>Below is an example of a capability factory:</p>
<pre><code class="language-java">public class TestCapabilityFactory implements CapabilityFactory&lt;TestCapabilityFactory.Requirement, Integer&gt; {
	
	public record Requirement(String value){};
	
	@Override
	public boolean canHandle(Object requirement) {
		return requirement instanceof Requirement;
	}

	@Override
	public CompletionStage&lt;Iterable&lt;CapabilityProvider&lt;Integer&gt;&gt;&gt; create(
			Requirement requirement,
			BiFunction&lt;Object, ProgressMonitor, CompletionStage&lt;Iterable&lt;CapabilityProvider&lt;Object&gt;&gt;&gt;&gt; resolver,
			ProgressMonitor progressMonitor) {
		
		return resolver.apply(MyService.class, progressMonitor).thenApply(cp -&gt; {;
			@SuppressWarnings({ "unchecked", "rawtypes" })
			Flux&lt;MyService&gt; myServiceCapabilityPublisher = (Flux) cp.iterator().next().getPublisher();
			
			return Collections.singleton(new CapabilityProvider&lt;Integer&gt;() {
	
				@Override
				public Flux&lt;Integer&gt; getPublisher() {
					Function&lt;MyService, Integer&gt; mapper = ms -&gt; ms.count(((Requirement) requirement).value());
					return myServiceCapabilityPublisher.map(mapper);
				}
				
			});
		});
	}

}
</code></pre>
<p>There is a number of implementations of <code>CapabilityFactory</code> is different Nasdanika modules, most of them extending <code>ServiceCapability</code>. In Eclipse or other IDE open <code>CapabilityFactory</code> type hierarchy to discover available implementations.</p>
<h2><a href="#loading-invocables-from-uris" id="loading-invocables-from-uris">Loading Invocables from URIs</a></h2>
<p>The capability framework allows to create/load implementations of <a href="https://javadoc.io/doc/org.nasdanika.core/common/latest/org.nasdanika.common/org/nasdanika/common/Invocable.html">Invocable</a> from <a href="https://javadoc.io/doc/org.eclipse.emf/org.eclipse.emf.common/latest/org/eclipse/emf/common/util/URI.html">URI</a>s:</p>
<ul>
<li>In conjunction with the <a href="../maven/index.html">Maven</a> module implementations can be loaded from Maven repositories.</li>
<li>Invocables can be implemented in <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.scripting/javax/script/package-summary.html">scripting languages</a>, e.g. <a href="https://groovy-lang.org/">Groovy</a>. Scripts may use dependencies loaded from Maven repositories. Script engine themselves can be loaded from Maven repositories.</li>
<li><a href="../drawio/index.html">Drawio</a> diagrams can be made executable by adding invocable URI properties to diagram elements. They can then be wrapped into a <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html">dynamic proxy</a> and invocable URI’s.</li>
</ul>
<h3><a href="#examples" id="examples">Examples</a></h3>
<h4><a href="#string-value" id="string-value">String value</a></h4>
<h5><a href="#url-encoded" id="url-encoded">URL encoded</a></h5>
<p><code>data:value/String,Hello+World</code> <a href="https://developer.mozilla.org/en-US/docs/Web/URI/Schemes/data">data URL</a> is converted to an Invocable which takes zero arguments and returns URL-decoded data part of the URL (after comma).</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createURI("data:value/String,Hello+World");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke();
System.out.println(result);
</code></pre>
<h5><a href="#url-and-base64-encoded" id="url-and-base64-encoded">URL and Base64 encoded</a></h5>
<p><code>data:value/String;base64,SGVsbG8=</code> is converted to an Invocable which takes zero arguments and returns URL-decoded and then <a href="https://en.wikipedia.org/wiki/Base64">Base64</a> decoded data part converted to String.</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createURI("data:value/String;base64,SGVsbG8=");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke();
System.out.println(result);
</code></pre>
<h4><a href="#java" id="java">Java</a></h4>
<h5><a href="#constructor" id="constructor">Constructor</a></h5>
<p><code>data:java/org.nasdanika.capability.tests.MyTestClass;base64,SGVsbG8=</code> is converted to an Invocable which invokes <a href="https://github.com/Nasdanika/core/blob/master/capability-tests/src/main/java/org/nasdanika/capability/tests/MyTestClass.java">MyTestClass</a> constructor.</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createURI("data:java/org.nasdanika.capability.tests.MyTestClass;base64,SGVsbG8=");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke();
System.out.println(result);
</code></pre>
<p>In the above code snippet invocable is invoked with no arguments, which matches the below constructor passing the decoded data part of the URL in <code>binding</code> argument:</p>
<pre><code class="language-java">public MyTestClass(
		CapabilityFactory.Loader loader, 
		ProgressMonitor progressMonitor, 
		byte[] binding,
		String fragment) {
	...
}	
</code></pre>
<p>The below snippet passes <code>33</code> argument to <code>invoke()</code>:</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createURI("data:java/org.nasdanika.capability.tests.MyTestClass;base64,SGVsbG8=");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke(33);
System.out.println(result);
</code></pre>
<p>Which matches the below constructor:</p>
<pre><code class="language-java">public MyTestClass(
		CapabilityFactory.Loader loader, 
		ProgressMonitor progressMonitor, 
		byte[] binding, 
		int arg) {
	...
}
</code></pre>
<p><code>33</code> is passed via the <code>arg</code> argument.</p>
<h5><a href="#static-method" id="static-method">Static method</a></h5>
<p>Static methods can be addresed by adding <code>::</code> and method name after the class name as in this URL: <code>data:java/org.nasdanika.capability.tests.MyTestClass::factory;base64,SGVsbG8=</code>. The resulting Invocable will select the best matching <code>factory</code> method.</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createURI("data:java/org.nasdanika.capability.tests.MyTestClass::factory;base64,SGVsbG8=");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke();
System.out.println(result);
</code></pre>
<p>In the above code snippet <code>invoke()</code> has no arguments and therefore the below method matches:</p>
<pre><code class="language-java">public static MyTestClass factory(
		CapabilityFactory.Loader loader, 
		ProgressMonitor progressMonitor, 
		byte[] binding) {
	...
}
</code></pre>
<p>As with constructors, the decoded data part is passed to the method as <code>binding</code> argument.</p>
<p>In the below snippet <code>invoke()</code> takes <code>55</code> argument:</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createURI("data:java/org.nasdanika.capability.tests.MyTestClass::factory;base64,SGVsbG8=");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke(55);
System.out.println(result);
</code></pre>
<p>Which matches the below method:</p>
<pre><code class="language-java">public static MyTestClass factory(
		CapabilityFactory.Loader loader, 
		ProgressMonitor progressMonitor, 
		byte[] binding,
		int arg) {
	...
}
</code></pre>
<h5><a href="#parameter-annotation" id="parameter-annotation">@Parameter annotation</a></h5>
<p><a href="https://javadoc.io/doc/org.nasdanika.core/common/latest/org.nasdanika.common/org/nasdanika/common/Invocable.Parameter.html">Parameter</a> annotation can be used on method and constructor parameters to provide parameter name and optionally narrow parameter type.</p>
<h4><a href="#script" id="script">Script</a></h4>
<p>The below snippet exectutes <code>test.groovy</code> script in the current directory. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.scripting/javax/script/ScriptEngineManager.html">ScriptEngineManger</a> is used to get a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.scripting/javax/script/ScriptEngine.html">ScriptEngine</a> by extension. Therefore, the engine factory shall be registered with the script engine manager.</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createFileURI(new File("test.groovy").getCanonicalPath());
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke();
System.out.println(result);
</code></pre>
<p>This is the test script:</p>
<pre><code class="language-groovy">import org.nasdanika.capability.CapabilityFactory.Loader
import org.nasdanika.common.ProgressMonitor

// Script arguments for reference
Loader loader = args[0];
ProgressMonitor loaderProgressMonitor = args[1];
Object data = args[2];

System.out.println(args);
"I've got " + args.length + " arguments!"
</code></pre>
<p>Similar to Java constructors and static methods, it takes the following arguments:</p>
<ul>
<li><a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/CapabilityFactory.Loader.html">CapabilityFactory.Loader</a> to request additional capabilities if needed</li>
<li><a href="https://javadoc.io/doc/org.nasdanika.core/common/latest/org.nasdanika.common/org/nasdanika/common/ProgressMonitor.html">ProgressMonitor</a> to report progress and pass to the loader methods</li>
<li>URI’s fragment value or null</li>
<li>Invocable arguments</li>
</ul>
<p>In the below code the script receives <code>Hello</code> as its third argument (binding) and <code>Universe</code> as its fourth argument:</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI requirement = URI.createFileURI(new File("test.groovy").getCanonicalPath()).appendFragment("Hello");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, requirement),
		progressMonitor);
Object result = invocable.invoke("Universe");
System.out.println(result);
</code></pre>
<h4><a href="#spec" id="spec">Spec</a></h4>
<p>Spec URI’s allow to specify Maven dependencies to construct a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html">ClassLoader</a> for loading Java classes including script engine factories. It is also to specify a module path to construct a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ModuleLayer.html">module layer</a>.</p>
<h5><a href="#json" id="json">JSON</a></h5>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI specUri = URI.createFileURI(new File("test-specs/java.json").getCanonicalPath()).appendFragment("Hello+World");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, new URIInvocableRequirement(specUri)),
		progressMonitor);
Object result = invocable.invoke();
System.out.println(result);
</code></pre>
<p>The above snippet uses the below spec to create an instance of <code>MyTestClass</code>:</p>
<pre><code class="language-json">{
	"type": "org.nasdanika.capability.tests.MyTestClass",
	"bind": [
		"data:value/String,Some+other+value"
	]
}	
</code></pre>
<p>Similar to data URL’s a matching constructor is found for the following arguments:</p>
<ul>
<li>CapabilityFactory.Loader</li>
<li>ProgressMonitor</li>
<li>String - URL decoded URI fragment, may be null</li>
<li>Bindings loaded from the <code>bind</code> array of URI’s</li>
</ul>
<p>Below is the matching constructor:</p>
<pre><code class="language-java">public MyTestClass(
		CapabilityFactory.Loader loader, 
		ProgressMonitor progressMonitor, 
		String fragment,
		String bind) {
	...;
}	
</code></pre>
<h5><a href="#yaml" id="yaml">YAML</a></h5>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor(true);
URI specUri = URI.createFileURI(new File("test-specs/groovy.yml").getCanonicalPath()).appendFragment("Hello+World");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, new URIInvocableRequirement(specUri)),
		progressMonitor);
Object result = invocable.invoke();
System.out.println(result);
</code></pre>
<p>The above snippet executes Groovy script specified inline in the below YAML:</p>
<pre><code class="language-yaml">script:
  engineFactory: org.codehaus.groovy.jsr223.GroovyScriptEngineFactory
  source: |
    "Hello, world! " + myBinding + " " + args[2]
  bindings:
    myBinding: data:value/String,Some+value
dependencies: org.apache.groovy:groovy-all:pom:4.0.23
localRepository: target/groovy-test-repo
</code></pre>
<p>In this case <code>org.apache.groovy:groovy-all:pom:4.0.23</code> Maven coordinates are used to load Groovy with all dependencies and construct a ClassLoader. Because the engine was loaded at runtime, it is not known to the ScriptEngineManager and has to be explicitly specified.</p>
<p>The script gets an <code>args</code> array with loader, progress monitor, decoded fragment and arguments passed to <code>invoke()</code>. It also gets named bindings loaded from the <code>bindings</code> map entries.</p>
<h4><a href="#drawio-diagram" id="drawio-diagram">Drawio diagram</a></h4>
<p>Below is a YAML spec with an embedded diagram:</p>
<pre><code class="language-yaml">diagram:
  source: |
    &lt;mxfile ...abridged... &lt;/mxfile&gt;
  processor: processor
  bind: bind
  interfaces: java.util.function.Function
</code></pre>
<p>And this is a YAML specification which references a diagram:</p>
<pre><code class="language-yaml">diagram:
  location: diagram.drawio
  processor: processor
  bind: bind
  interfaces: java.util.function.Function
</code></pre>
<p>The below code loads the spec, passes the fragment to the diagram as properties in addition to the properties from the spec, creates a dynamic proxy which invokes diagram element processors, and uses the proxy to execute the diagram logic:</p>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
URI specUri = URI.createFileURI(new File("diagram-function.yml").getCanonicalPath()).appendFragment("my-property=Hello");
Invocable invocable = capabilityLoader.loadOne(
		ServiceCapabilityFactory.createRequirement(Invocable.class, null, new URIInvocableRequirement(specUri)),
		progressMonitor);
Function&lt;String,Object&gt; result = invocable.invoke();
System.out.println(result);
System.out.println(result.apply("YAML"));
</code></pre>
<p>See <a href="https://github.com/Nasdanika/core/tree/master/capability-tests/src/test/java/org/nasdanika/capability/tests/tests">Capability tests</a> and <a href="https://github.com/Nasdanika-Demos/executable-diagram-dynamic-proxy/tree/main">Executable Diagrams Dynamic Proxy</a> demo for more examples.</p>
<h3><a href="#specification" id="specification">Specification</a></h3>
<h4><a href="#uri" id="uri">URI</a></h4>
<p>This section explains supported URI formats. Please note that using a custom <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/requirements/URIHandler.html">URIHandler</a> you may:</p>
<ul>
<li>Normalize “logical” URI’s to supported “physical” URI’s.</li>
<li>Implement <code>openStream()</code></li>
</ul>
<p>For example normalized <code>my-building-blocks://gen-ai/chat-completions</code> to a specification of a chat completions component, say, <code>gitlab://my-shared-components/open-ai/chat-completions.yml</code> and then implement <code>openStream()</code> which supports <code>gitlab</code> scheme[^gitlab_urihandler]</p>
<h5><a href="#data" id="data">Data</a></h5>
<p>Data URI has the following format: <code>data:[&lt;mediatype&gt;][;base64],&lt;data&gt;[#fragment]</code>. The following sections describe supported media types.</p>
<h6><a href="#value" id="value">value/<class name></class></a></h6>
<p>an instance of the class is constructed from the data part bytes, fragment is ignored. if the class name does not contain dots then <code>java.lang.</code> prefix is added to the class name. Examples: * <code>data:value/String,Hello+World</code> * <code>data:value/String;base64,SGVsbG8=</code></p>
<h6><a href="#java" id="java">java/<class name or method reference></class></a></h6>
<p>Class constructors or static methods are wrapped into an Invocable and the matching constructor/method is invoked from the resulting <code>Invocable.invoke()</code>. Constructors/methods shall have the following signature:</p>
<ul>
<li><a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/CapabilityFactory.Loader.html">CapabilityFactory.Loader</a> to request additional capabilities if needed</li>
<li><a href="https://javadoc.io/doc/org.nasdanika.core/common/latest/org.nasdanika.common/org/nasdanika/common/ProgressMonitor.html">ProgressMonitor</a> to report progress and pass to the loader methods</li>
<li>byte[] - the data part</li>
<li>String - fragment</li>
<li>Optional additional parameters for arguments passed to the result Invocable</li>
</ul>
<p>Examples:</p>
<ul>
<li><code>data:java/org.nasdanika.capability.tests.MyTestClass;base64,SGVsbG8=#World</code></li>
<li><code>data:java/org.nasdanika.capability.tests.MyTestClass::factory;base64,SGVsbG8=</code></li>
</ul>
<h6><a href="#spel" id="spel">spel/<url-encoded spel expression></url-encoded></a></h6>
<p>Evaluates a <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions">Spring Expression Langauge</a> (SpEL) expression. Binding by name sets variables. Arguments array is passed to the expression as the root object. It the array is of size 1 then its single element is used as the root object.</p>
<p>Example: <code>data:spel/%23myVar+%2B+%23this</code></p>
<p>This <a href="https://meyerweb.com/eric/tools/dencoder/">online URL Decoder/Encoder</a> can be used to encode expressions.</p>
<h6><a href="#applicationinvocable" id="applicationinvocable">application/<format>/invocable</format></a></h6>
<p>With format being either <code>yaml</code> or <code>json</code>. YAML or JSON specification (see below) encoded into the data part.</p>
<p>Example: <code>data:application/yaml/invocable;base64,c2Nya...abridged...1yZXBv</code></p>
<h5><a href="#hierarchical" id="hierarchical">Hierarchical</a></h5>
<p>If the hierarchical URI’s last segment ends with <code>.yml</code> or <code>.yaml</code> (case insensitive) it is treated as a YAML specification (see below). If the last segment ends with <code>.json</code> (also case insensitive) it is treated as a JSON specification. Otherwise a script engine is looked up by extension (the part of the last segments after the last dot). E.g. <code>groovy</code>.</p>
<p>Scripts receive <code>args</code> binding (variable) of type <code>Object[]</code> with the following elements:</p>
<ul>
<li><a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/CapabilityFactory.Loader.html">CapabilityFactory.Loader</a> to request additional capabilities if needed</li>
<li><a href="https://javadoc.io/doc/org.nasdanika.core/common/latest/org.nasdanika.common/org/nasdanika/common/ProgressMonitor.html">ProgressMonitor</a> to report progress and pass to the loader methods</li>
<li>String - fragment</li>
<li>Arguments passed to the result Invocable</li>
</ul>
<h4><a href="#yamljson-specification" id="yamljson-specification">YAML/JSON specification</a></h4>
<p>YAML/JSON specification is pre-processed and then loaded into <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/requirements/InvocableRequirement.html">InvocableRequirement</a>.</p>
<p>The specification supports the following configuration entries:</p>
<ul>
<li><code>diagram</code> - Map, loaded into <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/requirements/DiagramRecord.html">DiagramRecord</a>:
<ul>
<li><code>location</code> - String, URI of the diagram location relative to the specification location.</li>
<li><code>source</code> - String, diagram source. Either <code>location</code> or <code>source</code> shall be used.</li>
<li><code>base</code> - String, base URI if <code>source</code> is used</li>
<li><code>properties</code> - Map, properties to pass to the diagram. Nested properties can be addressed using “.” (dot) separator. For arrays index is used as key. E.g. people.3.name. If URI fragment is present it is parsed into name/value pairs in the same way as query strings are parsed. Fragment properties overwrite spec properties.</li>
<li><code>processor</code> - optional String, property to load processor specifications from. One diagram element may have multiple processor specifications in different properties. Also, property expansion can be used to customize processor specification. E.g. <code>%env%/storage.yaml</code> would point to different specifications depending on the value of <code>%env%</code> property.</li>
<li><code>bind</code> - optional String, property for a dynamic proxy method name or signature</li>
<li><code>interfaces</code> - optional String or List, dynamic proxy interfaces</li>
</ul>
</li>
<li><code>type</code> - String, class name or method reference is ends with <code>::&lt;static method name&gt;</code></li>
<li><code>script</code> - Map, loaded into <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/requirements/ScriptRecord.html">ScriptRecord</a>:
<ul>
<li><code>location</code> - String, URI of script sources</li>
<li><code>source</code> - String, script source. Either <code>location</code> or <code>source</code> shall be used</li>
<li><code>language</code> - String, script language (mime type) for source. For location if language is not specified it is derived from extension.</li>
<li><code>engineFactory</code> - String, fully qualified name of a script engine factory implementation. Use if the engine is loaded from dependencies and therefore is not visible to the script engine manager. If <code>engineFactory</code> is specified <code>language</code> and location extension are ignored.</li>
<li><code>bindings</code> - Map, values are treated as Invocable URIs providing binding values. Loader, progress monitor, fragment and invocable arguments are available to the script via the <code>args</code> binding of type <code>Object[]</code>.</li>
</ul>
</li>
<li><code>bind</code> - String or List, Invocable URIs to bind to the <code>type</code> Invocable. Not supported by <code>diagram</code> and <code>script</code>.</li>
<li><code>modulePath</code> - optional String or List, module path. If null, derived from root modules if they are present</li>
<li><code>rootModules</code> - optional String or List, root modules. The first root module is used to obtain the class loader</li>
<li><code>oneLayerClassLoader</code> - optional boolean indicating whether a single class loader shall be used for all modules in in the layer</li>
<li><code>dependencies</code> - optional String or List of dependencies in <code>&lt;groupId&gt;:&lt;artifactId&gt;[:&lt;extension&gt;[:&lt;classifier&gt;]]:&lt;version&gt;}</code> format. E.g. <code>org.apache.groovy:groovy-all:pom:4.0.23</code></li>
<li><code>managedDependencies</code> - optional String or List of dependencies in <code>&lt;groupId&gt;:&lt;artifactId&gt;[:&lt;extension&gt;[:&lt;classifier&gt;]]:&lt;version&gt;}</code> format</li>
<li><code>remoteRepositories</code> - Map (single remote repository) or List of Maps of remote repository definitions loaded into <a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/requirements/RemoteRepoRecord.html">RemoteRepoRecord</a>:
<ul>
<li><code>id</code> - String, repo ID</li>
<li><code>type</code> - String, optional repo type</li>
<li><code>url</code> - String, repository URL</li>
<li><code>proxy</code> - optional Map:
<ul>
<li><code>type</code> - String, <code>http</code> or <code>https</code></li>
<li><code>host</code> - String</li>
<li><code>port</code> - integer</li>
<li><code>auth</code> - authentication (see below)</li>
</ul>
</li>
<li><code>auth</code> - Map:
<ul>
<li><code>username</code> - String</li>
<li><code>password</code> - String</li>
</ul>
</li>
<li><code>mirroredRepositories</code> - Map or List, mirrored repositories</li>
</ul>
</li>
<li><code>localRepository</code> - optional String, path to the local repository to download dependencies to. Defaults to <code>repository</code>.</li>
</ul>
<p>Maven dependency resolution uses default values as explained in the <a href="../maven/index.html">Maven module documentation</a>. <code>diagram</code>, <code>type</code> and <code>script</code> are mutually exclusive.</p>
<p>Note: <code>extends</code> key is reserved for future releases to support spec inheritance.</p>
<p>Configuration is pre-pThe by interpolating system properties and environment variables. E.g. <code>${my-property}</code> will be expanded to the value of <code>my-property</code> system property if it is set. Respectively, <code>${env.MY_ENV_VAR}</code> will be expanded to the value of <code>MY_ENV_VAR</code> environment variable if it is set. Property expansion can be escaped with additional <code>{}</code> e.g. <code>${my-property}</code> will be expanded to <code>${my-property}</code> regardless of whether <code>my-properety</code> system property is set or not.</p>
<h2><a href="#emf" id="emf">EMF</a></h2>
<p>Many of Nasdanika capabilities are based on <a href="https://eclipse.dev/modeling/emf/">Eclipse Modeling Framework</a> (EMF)<sup id="fnref-2"><a class="footnote-ref" href="#fn-2">2</a></sup>, Ecore<sup id="fnref-3"><a class="footnote-ref" href="#fn-3">3</a></sup> models in particular. One of key objects in EMF Ecore is a <a href="https://javadoc.io/static/org.eclipse.emf/org.eclipse.emf.ecore/2.33.0/org/eclipse/emf/ecore/resource/ResourceSet.html">ResourceSet</a>. Resource set has a package registry, resource factory registry, and URI converter. <code>org.nasdanika.capability.emf</code> packages provides capability factories for contributing to resource set. It allows to request resource set from a capability loader and the returned resource set would be configured with registered EPackages, resource factories, adapter factories and URIHandlers.</p>
<h3><a href="#requesting-a-resourceset" id="requesting-a-resourceset">Requesting a ResourceSet</a></h3>
<h4><a href="#with-all-packages-and-factories" id="with-all-packages-and-factories">With all packages and factories</a></h4>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();
Requirement&lt;ResourceSetRequirement, ResourceSet&gt; requirement = ServiceCapabilityFactory.createRequirement(ResourceSet.class);		
for (CapabilityProvider&lt;?&gt; capabilityProvider: capabilityLoader.load(requirement, progressMonitor)) {
	ResourceSet resourceSet = (ResourceSet) capabilityProvider.getPublisher().blockFirst();
}
</code></pre>
<h4><a href="#selecting-contributors" id="selecting-contributors">Selecting contributors</a></h4>
<pre><code class="language-java">CapabilityLoader capabilityLoader = new CapabilityLoader();
ProgressMonitor progressMonitor = new PrintStreamProgressMonitor();

Predicate&lt;ResourceSetContributor&gt; contributorPredicate = ...;
ResourceSetRequirement serviceRequirement = new ResourceSetRequirement(null, contributorPredicate);
		
Requirement&lt;ResourceSetRequirement, ResourceSet&gt; requirement = ServiceCapabilityFactory.createRequirement(ResourceSet.class, null, serviceRequirement);		

for (CapabilityProvider&lt;?&gt; capabilityProvider: capabilityLoader.load(requirement, progressMonitor)) {
	ResourceSet resourceSet = (ResourceSet) capabilityProvider.getPublisher().blockFirst();
}
</code></pre>
<h4><a href="#providing-resourceset-instance" id="providing-resourceset-instance">Providing ResourceSet instance</a></h4>
<p>You may provide an instance of ResourceSet to configure in the requirement.</p>
<h3><a href="#contributing" id="contributing">Contributing</a></h3>
<h4><a href="#epackages" id="epackages">EPackages</a></h4>
<p>Create a class extending <code>EPackageCapabilityFactory</code>:</p>
<pre><code class="language-java">public class NcoreEPackageResourceSetCapabilityFactory extends EPackageCapabilityFactory {

	@Override
	protected EPackage getEPackage() {
		return NcorePackage.eINSTANCE;
	}

	@Override
	protected URI getDocumentationURI() {
		return URI.createURI("https://ncore.models.nasdanika.org/");
	}

}
</code></pre>
<p>and add it to <code>module-info.java</code> provides:</p>
<pre><code class="language-java">provides CapabilityFactory with NcoreEPackageResourceSetCapabilityFactory;
</code></pre>
<h4><a href="#resource-factories" id="resource-factories">Resource factories</a></h4>
<p>Create a class extending <code>ResourceFactoryCapabilityFactory</code>:</p>
<pre><code class="language-java">public class XMIResourceFactoryCapabilityFactory extends ResourceFactoryCapabilityFactory {

	@Override
	protected Factory getResourceFactory() {
		return new XMIResourceFactoryImpl();
	}
	
	@Override
	protected String getExtension() {
		return Resource.Factory.Registry.DEFAULT_EXTENSION;
	}

}
</code></pre>
<p>and add it to <code>module-info.java</code> provides CapabilityFactory.</p>
<h4><a href="#uri-handlers" id="uri-handlers">URI handlers</a></h4>
<p>Create a class extending <code>URIConverterContributorCapabilityFactory</code>:</p>
<pre><code class="language-java">public class ClassPathURIHandlerResourceSetCapabilityFactory extends URIConverterContributorCapabilityFactory {

	@Override
	protected void contribute(URIConverter uriConverter, ProgressMonitor progressMonitor) {	
		uriConverter.getURIHandlers().add(0, new URIHandlerImpl() {

			@Override
			public boolean canHandle(URI uri) {
				return uri != null &amp;&amp; Util.CLASSPATH_SCHEME.equals(uri.scheme());
			}

			@Override
			public InputStream createInputStream(URI uri, Map&lt;?, ?&gt; options) throws IOException {
				return DefaultConverter.INSTANCE.toInputStream(uri);
			}
			
		});
		
	}
	
}
</code></pre>
<p>and add it to <code>module-info.java</code> provides CapabilityFactory.</p>
<h2><a href="#applications" id="applications">Applications</a></h2>
<h3><a href="#services" id="services">Services</a></h3>
<p>Service capabilities explained above a used by <a href="https://graph.models.nasdanika.org/index.html">Graph</a> and <a href="https://function-flow.models.nasdanika.org/index.html">Function Flow</a> for loading <a href="https://javadoc.io/doc/org.nasdanika.core/graph/latest/org.nasdanika.graph/org/nasdanika/graph/processor/function/BiFunctionProcessorFactory.NodeProcessor.html">node processors</a> and <a href="https://javadoc.io/doc/org.nasdanika.core/graph/latest/org.nasdanika.graph/org/nasdanika/graph/processor/function/BiFunctionProcessorFactory.ConnectionProcessor.html">connection processors</a> for a specific requirement using <a href="https://javadoc.io/doc/org.nasdanika.core/graph-model/latest/org.nasdanika.graph.model/org/nasdanika/graph/model/util/NodeProcessorFactory.html">NodeProcessorFactory</a> and <a href="https://javadoc.io/doc/org.nasdanika.core/graph-model/latest/org.nasdanika.graph.model/org/nasdanika/graph/model/util/ConnectionProcessorFactory.html">ConnectionProcessorFactory</a> respectively. For example, code generation, execution, simulation.</p>
<h3><a href="#solutions-for-architectures" id="solutions-for-architectures">Solutions for architectures</a></h3>
<p>One of future application of the capability framework is creation a list of solution alternatives for an architecture/pattern. For example, there might be multiple <a href="https://rag.nasdanika.org/">RAG</a> embodiments with different key types, key extractors, stores, … Some of “design dimensions” are listed below:</p>
<ul>
<li>Key type:
<ul>
<li>Bag of words. Multiple options - just words, words with frequency, tokenized words, word stems.</li>
<li>Embedding vector - different embedding models, different dimensions.</li>
</ul>
</li>
<li>Store - multiple stores for multiple key types. Multiple indexing and retrieval methods. Chunk size, chunk overlap, chunking algorithm.</li>
<li>Generator - multiple models and prompts</li>
</ul>
<p>As you can see a number of potential combinations can easily go into thousands or even be infinite. Reactive approach with filtering and sorting may be helpful in selecting a solution which is a good fit for a particular use case - number and type of data sources etc. For example, if the total size of data is under a few gigabytes an in-memory store may be a better choice than, say, an external (vector) database. Also an old good bag of words might be better than embeddings. E.g. it might be cheaper.</p>
<p>Solution alternatives may include temporal aspect or monetary aspects. For example, version X of Y is available at time Z. Z might be absolute or relative. Say, Z days after project kick-off or license fee payment. Identified solutions meeting requirements can have different quality attributes - costs (to build, to run), timeline, etc. These quality attributes can be used for solution analysis. E.g. one solution can be selected as a transition architecture and another as the target architecture.</p>
<h3><a href="#backward-chaining" id="backward-chaining">Backward chaining</a></h3>
<p><a href="https://github.com/Nasdanika-Models/family/tree/main/demos/reasoning">Family reasoning</a> demonstrates application of the capability framework as a backward chaining engine. Family relationships such as <code>grandfather</code> and <code>cousin</code> are constructed by requiring and combining relationships such as <code>child</code> and <code>sibling</code>.</p>
<h3><a href="#stream-processing" id="stream-processing">Stream processing</a></h3>
<p>This possible application is similar to backward reasoning. Imagine an algorithmic trading strategy which uses several technical indicators, such as moving averages, to make trading decisions. Such a strategy would submit requirements for technical indicators which would include symbol, indicator configuration, time frame size. Technical indicators in turn would submit a requirement for raw trading data. A technical indicator such as moving average would start publishing its events once it receives enough trading data frames to compute its average.</p>
<p>A trading engine would submit a requirement for strategies. A strategy factory may produce multiple strategies with different configurations. The trading engine would perform “paper” trades, select well-performing strategies and discard ones which perform poorly. This can be an ongoing process - if a strategy deteriorates then it is discarded and a new strategy is requested from strategy publishers - this process can be infinite.</p>
<h3><a href="#ai-model-trainingfine-tuning" id="ai-model-trainingfine-tuning">AI model training/fine-tuning</a></h3>
<p>This application is similar to stream processing and may be combined with backward reasoning. Let’s say we want to train a model to answer questions about <a href="https://family.models.nasdanika.org/demos/mapping/">family relationships</a> for a specific family. For example, “Who is <a href="https://family.models.nasdanika.org/demos/mapping/references/members/alain/index.html">Alan’s</a> great grandmother?” A single relationship in the model can be expressed in multiple ways in natural language. And multiple relationships can be expressed in a single sentence. For example:</p>
<ul>
<li>Elias is a person</li>
<li>Elias is a man</li>
<li>Elias is a male</li>
<li>Elias is a parent of Fiona</li>
<li>Fiona is a child of Elias</li>
<li>Elias is a father of Fiona</li>
<li>Fiona is a daughter of Elias</li>
<li>Paul and Isa are parents of Lea and Elias</li>
<li>…</li>
</ul>
<p>So, on top of a model there might be a collection of text generators. Output of those generators can be fed to a model:</p>
<ul>
<li>Supervised - question and answer
<ul>
<li>“How many sisters does Bryan have?” - “Two”</li>
<li>“Who are Bryan’s sisters?” - “Clara and Fiona”</li>
</ul>
</li>
<li>Unsupervised - factual statements</li>
</ul>
<p>A similar approach can be applied to other models - customer/accounts, organization or <a href="https://architecture.models.nasdanika.org/">architecture</a> model, etc.</p>
<p>For example, from the <a href="https://architecture.models.nasdanika.org/demo/internet-banking-system/index.html">Internet Banking System</a> we can generate something like “<a href="https://architecture.models.nasdanika.org/demo/internet-banking-system/r0/internet-banking-system/rh/api-application/rh/accounts-summary-controller/index.html">Accounts Summary Controller</a> uses <a href="https://architecture.models.nasdanika.org/demo/internet-banking-system/r0/internet-banking-system/rh/api-application/rh/mainframe-banking-system-facade/index.html">Mainframe Banking System Facade</a> to make API calls to the <a href="https://architecture.models.nasdanika.org/demo/internet-banking-system/r0/mainframe-banking-system/index.html">Mainframe Banking System</a> over XML/HTTPS”. “make API calls” may also be generated as “connect” or “make requests”.</p>
<p>In a similar fashion a number of questions/answers can be generated.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p><a href="https://javadoc.io/doc/org.nasdanika.core/capability/latest/org.nasdanika.capability/org/nasdanika/capability/package-summary.html">Javadoc</a></p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>See <a href="https://www.vogella.com/tutorials/EclipseEMF/article.html">Eclipse Modeling Framework (EMF) - Tutorial</a> and <a href="https://www.amazon.com/EMF-Eclipse-Modeling-Framework-2nd/dp/0321331885">EMF Eclipse Modeling Framework</a> book for more details.</p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
<li id="fn-3">
<p>See EMF Ecore chapter in <a href="https://leanpub.com/beyond-diagrams">Beyond Diagrams</a> book for a high-level overview of EMF Ecore.</p>
<a href="#fnref-3" class="footnote-backref">↩</a>
</li>
</ol>
</div>
</div></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col nsd-app-footer">
          <ul class="nav nsd-app-footer-navs">
            <li class="nav-item">
              <a href="https://github.com/Nasdanika/nasdanika.github.io/" data-nsd-label-uuid="f99c0f97-9e61-471f-ade7-9b6b17bed0a5" class="nav-link"><span class="fab fa-github nsd-app-label-icon"></span>Source</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>